## 1. EBS 개요
---
#### 1. **EBS (Elastic Block Store) 개요**

- **EBS 볼륨**:
    - EC2 인스턴스에 연결 가능한 **네트워크 기반 스토리지**.
    - 인스턴스 종료 후에도 데이터 유지 가능 (**데이터 지속성**).
    - 네트워크를 통해 연결되므로 **지연 발생 가능**.
    - **무료 등급**: 매달 30GB의 범용 SSD 또는 마그네틱 유형 제공.

---

#### 2. **EBS 볼륨 특징**

- **단일 연결 제한**:
    - **CCP 레벨**: 하나의 EBS 볼륨은 한 번에 하나의 EC2 인스턴스에만 연결 가능.
    - **어소시에이트 레벨**: 일부 EBS 볼륨은 다중 연결 가능. (EBS Multi-Attach)
- **가용 영역 제한**:
    - EBS 볼륨은 특정 가용 영역(AZ) 내에서만 사용 가능.
    - 스냅샷을 이용해 다른 AZ로 복사 가능.
- **용량 및 성능 설정**:
    - 생성 시 용량(GB) 및 **IOPS**(초당 전송 작업 수)를 설정.
    - 필요 시 용량 및 성능 확장 가능.

---

#### 3. **EBS 볼륨 연결 및 관리**

- **인스턴스와 연결**:
    - 하나의 EC2 인스턴스에 여러 EBS 볼륨 연결 가능.
    - EBS 볼륨은 인스턴스와 분리 후 다른 인스턴스에 연결 가능.
- **독립 실행 가능**:
    - EBS 볼륨은 인스턴스에 연결하지 않고도 존재할 수 있음.
    - 필요 시 연결해 사용.

---

#### 4. **EBS 스냅샷**

- **스냅샷 생성**:
    - EBS 볼륨의 백업을 생성해 다른 AZ 또는 리전에 복사 가능.
    - 데이터 복구 및 볼륨 복제에 유용.

---

#### 5. **종료 시 삭제 옵션**

- **루트 볼륨과 데이터 볼륨의 기본 설정**:
    - 루트 EBS 볼륨:
        - 기본적으로 **종료 시 삭제 활성화**.
        - 인스턴스 종료 시 자동 삭제.
    - 추가 데이터 볼륨:
        - 기본적으로 **종료 시 삭제 비활성화**.
        - 인스턴스 종료 후에도 유지.
- **설정 변경 가능**:
    - 인스턴스 생성 시 UI에서 종료 시 삭제 옵션 활성화/비활성화 가능.
- **사용 예시**:
    - 데이터 보존을 위해 루트 볼륨의 종료 시 삭제 비활성화.

---

#### 6. **EBS 볼륨의 활용**

- **네트워크 기반 USB 스틱**으로 간주:
    - 인스턴스 간 빠른 연결 전환 가능.
    - 대체 작동 및 백업에 유용.
- **특정 AZ 내에서만 사용**:
    - 다른 AZ에서 사용하려면 스냅샷을 통해 복제.

---

#### 7. **시험 대비 포인트**

- **EBS 볼륨 특성**:
    - 데이터 지속성, 네트워크 연결, 단일/다중 연결 제한.
- **가용 영역 제한**:
    - 동일 AZ 내에서만 사용 가능.
- **종료 시 삭제 옵션**:
    - 기본 설정과 활성화/비활성화 방식.
- **스냅샷 활용**:
    - 볼륨 복사 및 데이터 복구.

---

#### 8. **결론**

- EBS는 EC2 인스턴스의 주요 스토리지 옵션으로 **데이터 지속성**, **유연성**, **확장성**을 제공.
- 스냅샷과 종료 시 삭제 옵션을 활용해 데이터 관리와 비용 최적화 가능.

---

## 2. EBS 실습
---
#### 1. **EC2 인스턴스의 스토리지 확인**

- **Storage 탭**:
    - 연결된 **루트 장치**와 **블록 장치** 확인 가능.
    - 기본적으로 **8GiB 루트 볼륨**이 연결되어 있음.

---

#### 2. **EBS 볼륨 생성 및 연결**

1. **볼륨 생성**:
    - **Create volume** 클릭.
    - **유형**: 예) gp2.
    - **크기**: 원하는 크기 (예: 2GiB).
    - **가용 영역(AZ)**: EC2 인스턴스와 동일한 AZ로 설정 필요.
2. **볼륨 연결**:
    - 생성 후 상태가 **Available**로 표시되면 연결 가능.
    - **Actions → Attach volume**에서 인스턴스 선택 후 연결.
3. **여러 볼륨 연결**:
    - 하나의 EC2 인스턴스에 여러 EBS 볼륨 연결 가능.
    - 예: 8GiB 루트 볼륨 + 2GiB 추가 볼륨.

---

#### 3. **가용 영역(AZ) 제한**

- **EBS 볼륨은 특정 AZ 내에서만 연결 가능**:
    - 볼륨이 **eu-west-1b**에 생성되었으면 해당 AZ의 인스턴스에만 연결 가능.
    - 다른 AZ로 연결하려면 스냅샷을 생성 후 복사해야 함.
- 다른 AZ에서 볼륨 생성 시 연결 불가 메시지 표시.

---

#### 4. **Delete on Termination 속성**

1. **기본 설정**:
    - **루트 볼륨**: Delete on Termination 기본값이 'Yes'.
    - **추가 볼륨**: Delete on Termination 기본값이 'No'.
2. **설정 변경**:
    - EC2 인스턴스 생성 시 **Storage 설정에서 변경 가능**.
    - 루트 볼륨 삭제 방지: 'No'로 설정.
3. **종료 시 동작**:
    - 인스턴스 종료 시:
        - 루트 볼륨은 기본적으로 삭제.
        - 추가 볼륨은 인스턴스에서 분리되고 삭제되지 않음.

---

#### 5. **EBS 볼륨 관리**

- **볼륨 삭제**:
    - **Actions → Delete volume**으로 불필요한 볼륨 삭제 가능.
    - 클라우드의 장점: 필요에 따라 빠르게 생성 및 삭제 가능.
- **인스턴스 종료 후 상태**:
    - 추가 볼륨은 **Available** 상태로 남음.
    - 루트 볼륨은 삭제되거나 남은 설정에 따라 동작.

---

#### 6. **실습 예시**

- **8GiB 루트 볼륨** + **2GiB 추가 볼륨** 연결 후 인스턴스 종료:
    - 루트 볼륨: 삭제됨 (Delete on Termination 설정 'Yes').
    - 추가 볼륨: 남아 있음 (Delete on Termination 설정 'No').

---

#### 7. **시험 대비 포인트**

- **EBS 볼륨의 AZ 제한**: 동일 AZ 내에서만 연결 가능.
- **Delete on Termination 설정**:
    - 루트 볼륨의 기본값과 설정 변경 방법.
- **볼륨 생성 및 연결 프로세스**:
    - Create volume → Attach volume → EC2 인스턴스 연결.

---

#### 8. **결론**

- EBS 볼륨은 EC2 인스턴스의 유연한 스토리지 옵션으로, AZ와 설정 제한 사항을 이해하고 활용해야 함.
- Delete on Termination 속성을 통해 데이터 유지 및 삭제 동작을 제어 가능.
- 클라우드 환경의 장점인 빠른 생성/삭제를 활용해 효율적인 스토리지 관리 가능.

## 3. EBS 스냅샷 개요
---

#### 1. **EBS 스냅샷 개요**

- **스냅샷**:
    - EBS 볼륨의 특정 시점에 대한 **백업**.
    - EBS 볼륨이 삭제되더라도 복구 가능.
- **백업 생성 방법**:
    - EBS 볼륨 연결 상태에서도 스냅샷 생성 가능.
    - 데이터를 정리한 뒤 스냅샷을 생성하는 것이 권장됨.

---

#### 2. **EBS 스냅샷의 주요 활용**

1. **데이터 복구**:
    - 삭제된 EBS 볼륨 복구에 사용.
2. **가용 영역 및 리전 간 복제**:
    - 한 가용 영역(AZ)의 EBS 볼륨 데이터를 다른 AZ 또는 리전으로 전송 가능.
    - 복제 프로세스:
        1. EBS 볼륨의 스냅샷 생성.
        2. 스냅샷을 기반으로 새 EBS 볼륨 생성.
        3. 새 EBS 볼륨을 다른 AZ 또는 리전의 EC2 인스턴스에 연결.

---

#### 3. **EBS 스냅샷 아카이브**

- **특징**:
    - 스냅샷을 저비용 **아카이브 티어**로 이동.
    - 비용 절감: 기본 스냅샷 대비 75% 저렴.
- **단점**:
    - 복구 시간: 24~72시간 소요.
    - 긴급 복구가 필요하지 않은 스냅샷에 적합.
- **활용 사례**:
    - 자주 액세스하지 않는 장기 보관 스냅샷.

---

#### 4. **EBS 스냅샷 휴지통**

- **특징**:
    - 스냅샷 삭제 시 복구 가능한 보호 기능.
    - 삭제된 스냅샷은 설정된 기간 동안 휴지통에 보관.
- **보관 기간 설정**:
    - 최소 1일, 최대 1년.
- **활용 사례**:
    - 실수로 스냅샷을 삭제한 경우 복구 가능.

---

#### 5. **EBS 스냅샷 활용 사례**

1. **백업 및 복구**:
    - EC2 인스턴스와 데이터를 안정적으로 복원.
2. **리전 간 데이터 이동**:
    - 글로벌 인프라 활용 및 장애 대비.
3. **비용 절감**:
    - 아카이브 티어로 비용 최적화.
4. **데이터 보호**:
    - 휴지통 설정으로 스냅샷 삭제 복구.

---

#### 6. **시험 대비 포인트**

- **스냅샷의 특성**:
    - 백업, 복구, 복제 기능.
- **아카이브 티어**:
    - 비용 절감 효과와 복구 시간.
- **휴지통 설정**:
    - 복구 가능 기간 설정.
- **스냅샷 활용 프로세스**:
    - 생성 → 복제 → 복구.

---

#### 7. **결론**

- **EBS 스냅샷**은 데이터 보호와 복제, 비용 절감을 위한 강력한 도구.
- **아카이브 티어**와 **휴지통** 기능을 활용해 스냅샷 관리 최적화.
- 글로벌 인프라를 활용한 리전 간 데이터 이동 및 복구 계획에 중요한 역할.

---

## 4. EBS 스냅샷 실습
---

#### 1. **스냅샷 생성**

- **스냅샷 생성 방법**:
    1. EBS 볼륨에서 **Actions → Create Snapshot** 선택.
    2. 설명 추가 (예: `DemoSnapshot`) 후 **Create Snapshot** 클릭.
- **스냅샷 확인**:
    - **Snapshots** 메뉴에서 생성된 스냅샷 확인 가능.
    - 100% 완료되면 사용 가능.

---

#### 2. **스냅샷 활용**

1. **리전 간 스냅샷 복사**:
    - **Actions → Copy Snapshot** 선택.
    - 목적지 리전을 설정해 복사.
    - **활용 사례**:
        - 재해 복구 전략 (백업 데이터 리전을 다르게 설정).
2. **스냅샷에서 볼륨 재생성**:
    - **Actions → Create Volume from Snapshot** 선택.
    - 볼륨 크기, 유형, AZ 설정 가능 (예: `eu-west-1b`).
    - 스냅샷을 기반으로 새 EBS 볼륨 복원.

---

#### 3. **Recycle Bin (휴지통) 활용**

- **휴지통 설정**:
    1. **Recycle Bin → Create Retention Rule** 클릭.
    2. 이름 설정 (예: `DemoRetentionRule`).
    3. 리소스 유형: EBS 스냅샷.
    4. 보존 기간: 1일~1년 설정 (예: 1일).
    5. 규칙 잠금 상태: `Unlocked`로 유지 (원할 때 규칙 삭제 가능).
    6. **Create Rule** 클릭.
- **삭제된 스냅샷 복원**:
    - **Recycle Bin**에서 삭제된 스냅샷 확인 및 복원 가능.
    - **Actions → Restore Resource** 클릭 후 스냅샷 복구.

---

#### 4. **스토리지 티어 변경**

- **스탠더드 티어**:
    - 기본 스토리지 티어.
- **아카이브 티어**:
    - 비용 75% 절감.
    - **복원 시간**: 24~72시간 소요.
    - 급히 복구할 필요가 없는 스냅샷에 적합.
- **티어 변경 방법**:
    - **Actions → Modify Tier**에서 티어 변경 가능.

---

#### 5. **스냅샷 삭제 및 복구**

1. **스냅샷 삭제**:
    - **Actions → Delete Snapshot** 클릭.
    - 삭제된 스냅샷은 기본적으로 Recycle Bin으로 이동.
2. **스냅샷 복구**:
    - **Recycle Bin**에서 삭제된 스냅샷 확인.
    - **Actions → Restore Resource** 클릭.
    - 복구된 스냅샷은 다시 EC2 콘솔의 스냅샷 목록에 표시.

---

#### 6. **시험 대비 포인트**

- **스냅샷 활용**:
    - 리전 간 복사, 볼륨 재생성.
- **Recycle Bin**:
    - 삭제된 스냅샷 복구 및 보존 규칙 설정.
- **스토리지 티어**:
    - 스탠더드와 아카이브 티어의 차이와 활용 방법.

---

#### 7. **결론**

- EBS 스냅샷은 **백업, 복구, 복제**의 필수 도구.
- **Recycle Bin**으로 실수로 삭제된 스냅샷 복구 가능.
- **아카이브 티어**를 활용해 비용 효율성을 극대화.
- 실습을 통해 스냅샷 관리와 활용 능력을 강화.
---

## 5. AMI 개요
---
#### 1. **AMI란?**

- **Amazon Machine Image**의 약자로, EC2 인스턴스의 기반이 되는 템플릿.
- **소프트웨어 구성 포함**:
    - 운영 체제(OS).
    - 애플리케이션, 유틸리티, 모니터링 도구 등.
- **사전 패키징**된 환경 제공:
    - 부팅 및 구성 시간을 단축.
    - 동일한 환경의 EC2 인스턴스를 쉽게 복제 가능.

---

#### 2. **AMI의 주요 유형**

1. **AWS 제공 공용 AMI**:
    - AWS에서 기본 제공.
    - 예: **Amazon Linux 2 AMI**.
2. **사용자 지정 AMI**:
    - 사용자가 직접 생성한 AMI.
    - 특정 리전에 맞게 구축 가능.
    - AWS 글로벌 인프라에 복사해 다중 리전 활용 가능.
3. **AWS 마켓플레이스 AMI**:
    - 타사 또는 공급 업체가 제공하는 AMI.
    - 특정 소프트웨어가 사전 구성된 상태로 제공.
    - 사용자는 시간 절약을 위해 구매 가능.
    - AMI를 만들어 판매할 수도 있음.

---

#### 3. **사용자 지정 AMI 생성 및 활용**

1. **사용자 지정 AMI 생성**:
    - EC2 인스턴스 생성 후 **사용자 지정 구성**.
    - 인스턴스를 중지하여 **데이터 무결성** 확보.
    - AMI 생성:
        - 생성 과정에서 EBS 스냅샷 자동 생성.
2. **AMI 복제 및 사용**:
    - 특정 리전의 AMI를 다른 리전으로 복사.
    - 생성된 AMI로 여러 인스턴스를 실행 가능.
    - 예:
        - US-EAST-1A에서 사용자 지정 AMI 생성.
        - 해당 AMI를 사용해 US-EAST-1B에서 인스턴스 실행.

---

#### 4. **AMI의 활용 사례**

- **환경 표준화**:
    - 동일한 소프트웨어 및 설정이 적용된 EC2 인스턴스 실행.
- **운영 효율성**:
    - 여러 리전 및 AZ에서 동일한 환경 복제.
- **시간 절약**:
    - AWS 마켓플레이스 AMI 활용으로 소프트웨어 설치 및 구성 시간 단축.
- **유지보수**:
    - 사용자 지정 AMI를 업데이트 및 관리하여 재사용.

---

#### 5. **시험 대비 포인트**

- **AMI의 정의와 구성 요소**:
    - OS, 애플리케이션, 설정 포함.
- **AMI 유형**:
    - AWS 공용 AMI, 사용자 지정 AMI, 마켓플레이스 AMI.
- **사용자 지정 AMI 생성 및 활용 프로세스**:
    - 인스턴스 생성 → 사용자 지정 → 중지 → AMI 생성 → 다른 리전/인스턴스에 활용.

---

#### 6. **결론**

- AMI는 EC2 인스턴스의 **표준 템플릿**으로, 환경 표준화 및 복제를 쉽게 지원.
- 사용자 지정 AMI와 AWS 마켓플레이스를 활용해 **운영 효율성**과 **유연성**을 극대화.
- 다음 강의에서는 AMI 생성 및 활용을 실제 데모로 확인 예정.

## 6. AMI 실습
---

#### 1. **AMI란?**

- **Amazon Machine Image (AMI)**:
    - EC2 인스턴스의 템플릿으로, 소프트웨어와 설정이 사전 구성된 상태.
    - 부팅 시간을 단축하고, 반복 작업을 최소화.

---

#### 2. **AMI 생성 절차**

1. **EC2 인스턴스 시작**:
    - **Amazon Linux 2** 선택.
    - **User Data**:
        - Apache 웹 서버 설치 스크립트 작성 (httpd 설치).
        - 불필요한 마지막 줄(인덱스 파일 생성)은 제외.
    - **보안 그룹**:
        - 기존 보안 그룹(예: launch-wizard-1) 사용.
2. **인스턴스 실행 후 테스트**:
    - EC2 인스턴스 실행 및 Apache 설치 완료 여부 확인.
    - 퍼블릭 IP를 통해 기본 Apache 테스트 페이지 확인.
3. **AMI 생성**:
    - 실행 중인 인스턴스에서 **Actions → Image and templates → Create Image**.
    - 이름 설정 (예: `DemoImage`).
    - 생성 후 **AMI 목록**에서 상태 확인 (`Pending → Available`).

---

#### 3. **AMI 활용**

1. **AMI 기반 새로운 인스턴스 생성**:
    - **Instances → Launch Instance**:
        - **My AMIs** 탭에서 생성한 AMI 선택 (예: `DemoImage`).
    - **User Data**:
        - 필요한 명령만 추가 (httpd 재설치 방지).
        - 예: 파일 생성 명령 추가.
    - **보안 그룹**:
        - 기존 보안 그룹(예: launch-wizard-1) 사용.
    - 인스턴스 실행 후 퍼블릭 IP를 통해 웹 페이지 확인 (예: "Hello World").
2. **AMI의 장점**:
    - 동일한 설정의 EC2 인스턴스를 반복적으로 빠르게 생성 가능.
    - 부팅 시간 단축.
    - 소프트웨어 재설치 불필요.

---

#### 4. **사용자 데이터(User Data) 구성**

- **초기 스크립트**:
    - Apache 설치:
        
        ```bash
        #!/bin/bash
        yum update -y
        yum install -y httpd
        systemctl start httpd
        systemctl enable httpd
        ```
        
- **AMI 기반 인스턴스 생성 시 스크립트**:
    - 추가 작업만 수행:
        
        ```bash
        #!/bin/bash
        echo "Hello World" > /var/www/html/index.html
        ```
        

---

#### 5. **실습 결과**

- AMI 기반으로 생성된 인스턴스는 설정된 소프트웨어(httpd)를 포함하므로 실행 속도가 빠름.
- 기본 Apache 설정 후, 추가적인 사용자 데이터로 원하는 커스터마이징 가능.

---

#### 6. **시험 대비 포인트**

- **AMI 생성 및 활용 절차**:
    - EC2 인스턴스 시작 → 사용자 지정 → AMI 생성 → AMI 기반 인스턴스 실행.
- **User Data의 역할**:
    - 초기 구성 및 소프트웨어 설치.
    - AMI 재활용 시 불필요한 작업 제거.
- **AMI의 장점**:
    - 반복 작업 최소화, 부팅 시간 단축, 글로벌 복제 가능.

---

#### 7. **결론**

- AMI는 **EC2 인스턴스 관리 및 확장**에 있어 중요한 역할.
- 설정된 환경을 반복적으로 사용하고자 할 때 시간과 노력을 절약.
- 실습을 통해 AMI 생성 및 활용법을 익혀 다양한 시나리오에 적용 가능.

## 7. EC2 이미지 빌더 개요
---

## 8. 
---