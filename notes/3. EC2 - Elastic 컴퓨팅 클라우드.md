## 1. AWS 예산 설정
---
#### 1. **IAM 사용자 결제 데이터 접근 활성화**

1. **루트 계정으로 로그인**:
    
    - **IAM 사용자**는 기본적으로 결제 데이터에 접근할 수 없음.
    - 루트 계정으로 **결제 데이터 IAM 액세스 활성화** 필요.
2. **결제 IAM 액세스 활성화 방법**:
    
    - **Account Settings** → **IAM Access to Billing Information** → **Activate IAM Access**.

---

#### 2. **결제 콘솔 탐색**

1. **Billing Overview**:
    
    - 현재 월 및 예상 월간 비용 확인.
    - 지난 달 및 이전 달 비용 확인.
2. **청구서(Bills)**:
    
    - 서비스별 비용 내역 제공.
    - 특정 서비스(예: EC2)의 사용량 및 청구 내역 분석 가능.
    - **월별 청구서** 선택 후 하단에서 **서비스별 요금(Charges by Service)** 확인.
3. **프리 티어(Free Tier)**:
    
    - 현재 사용량과 **프리 티어 한도** 비교.
    - 초과 시 빨간색 경고 표시.

---

#### 3. **예산 설정 및 알림**

1. **예산 생성 위치**:
    
    - **Billing Console** → **Budgets** → **Create Budget**.
2. **예산 생성 과정**:
    
    - **지출 없는 예산**:
        
        - 예산 이름: "No Spending Budget".
        - 목표: **0.01달러** 도달 시 알림.
        - 알림 수신 이메일 입력.
    - **월간 비용 예산**:
        
        - 예산 이름: "Monthly Budget".
        - 목표: **10달러** 도달 시 알림.
        - 알림 조건:
            - **85% 도달** 시 알림.
            - **100% 도달** 시 알림.
            - **예상 지출이 100%에 도달 예상** 시 알림.
3. **알림 수신 내용**:
    
    - 실시간으로 **예산 초과 상황** 이메일 수신.

---

#### 4. **예산 설정 모범 사례**

- **지출 없는 예산** 설정:
    
    - 0.01달러 초과 시 즉시 알림.
    - 사용하지 않을 리소스를 빠르게 식별 및 제거.
- **월간 예산 설정**:
    
    - 현실적인 예산(예: 10달러)으로 비용 초과 방지.
    - 예산 초과 예상 시 조기 알림으로 대응 가능.
- **프리 티어 모니터링**:
    
    - 무료로 제공되는 리소스 사용량을 지속적으로 확인.
    - 초과 사용으로 인한 불필요한 비용 방지.

---

#### 5. **AWS 비용 문제 해결**

1. **청구서**:
    
    - 서비스별 사용 내역 분석.
    - 불필요한 서비스 식별 후 사용 중지.
2. **프리 티어 대시보드**:
    
    - 무료 한도 초과 여부 실시간 확인.
3. **예산 알림**:
    
    - 초과 지출 가능성을 조기에 식별하여 비용 관리.

---

#### 6. **핵심 요약**

- **IAM 사용자 결제 데이터 접근 활성화**로 관리 효율성 증대.
- **예산 및 알림 설정**으로 과도한 비용 발생 방지.
- **청구서 및 프리 티어 사용량 분석**으로 비용 투명성 확보.

---

## 2. EC2 기초
---
#### 1. **Amazon EC2란?**

- **Elastic Compute Cloud**의 약자.
- AWS의 가장 인기 있는 서비스로, **서비스형 인프라(IaaS)** 제공.
- **주요 기능**:
    - 가상 머신(EC2 인스턴스) 임대.
    - 데이터 저장(EBS, EFS).
    - 부하 분산(Elastic Load Balancer).
    - 자동 확장(Auto Scaling Group).

---

#### 2. **EC2의 주요 구성 요소**

1. **운영 체제 선택**:
    
    - 리눅스(가장 인기 있음), 윈도우, 맥OS.
2. **컴퓨팅 리소스**:
    
    - vCPU(가상 CPU) 및 RAM 크기 선택.
    - 스토리지 유형: EBS, EFS, EC2 인스턴스 스토어.
3. **네트워크 설정**:
    
    - 공용 IP, 네트워크 속도 및 카드 설정.
4. **보안 그룹**:
    
    - **방화벽 규칙** 정의.
    - EC2 인스턴스와 외부 트래픽 간 허용/차단 규칙 설정.
5. **사용자 데이터 스크립트**:
    
    - **부트스트래핑**을 위한 초기화 스크립트 실행.
    - 업데이트, 소프트웨어 설치, 파일 다운로드 등 자동화 가능.

---

#### 3. **사용자 데이터 스크립트 (User Data Script)**

- **의미**:
    - 인스턴스 부팅 시 실행되는 초기화 스크립트.
    - 부팅 시 1회 실행 후 종료.
- **사용 사례**:
    - 시스템 업데이트.
    - 필요한 소프트웨어 설치.
    - 웹사이트 배포 및 설정.
- **특징**:
    - 루트 계정으로 실행되며, `sudo` 명령어 필요.

---

#### 4. **EC2 인스턴스 종류**

|인스턴스 종류|vCPU|메모리|스토리지|네트워크 성능|
|---|---|---|---|---|
|**t2.micro**|1|1GB|EBS 전용|낮음 ~ 중간|
|**t2.xlarge**|4|16GB|EBS 전용|중간|
|**c5d.4xlarge**|16|32GB|NVMe SSD(400GB)|최대 10Gbps|
|**r5.16xlarge**|64|512GB|EBS 전용|고성능|
|**m5.8xlarge**|32|128GB|EBS 전용|고성능|

---

#### 5. **t2.micro 인스턴스 (프리 티어)**

- **특징**:
    - AWS 프리 티어에 포함.
    - 한 달에 750시간 사용 가능(1년 동안 무료).
- **사용 사례**:
    - 강의 실습 및 테스트 환경.

---

#### 6. **EC2의 강점**

- **유연성**: 요구에 맞는 가상 머신 선택 가능.
- **확장성**: 필요에 따라 자원을 추가하거나 축소 가능.
- **자동화**: 사용자 데이터 스크립트를 활용한 초기 작업 자동화.

---

## 3. 웹 사이트 실습을 위한 EC2 사용자 데이터로 EC2 인스턴스 생성
---
#### **1. EC2 인스턴스 실행 과정**

1. **AWS 콘솔에서 EC2 인스턴스 실행**:
    - EC2 콘솔 접속 → **Instances** 클릭 → **Launch instances** 클릭.
2. **인스턴스 이름 추가**:
    - "My First Instance" 입력.
3. **운영 체제 선택**:
    - Quick Start에서 **Amazon Linux 2 AMI** 선택.
4. **인스턴스 유형 설정**:
    - **t2.micro** 선택 (프리 티어 무료 제공, 한 달 750시간 가능).
5. **키 쌍 생성 및 다운로드**:
    - 키 쌍 이름: **EC2 Tutorial**.
    - 키 형식:
        - **.pem**: Mac/Linux/Windows 10 이상.
        - **.ppk**: Windows 7/8.
6. **네트워크 설정**:
    - 보안 그룹 설정:
        - **SSH(포트 22)** 및 **HTTP(포트 80)** 허용.
7. **스토리지 구성**:
    - 기본 설정 유지 (8GiB, EBS SSD).
8. **사용자 데이터 추가**:
    - EC2 인스턴스 실행 시 자동으로 웹 서버 및 기본 HTML 파일 설정.

```bash
#!/bin/bash
yum update -y
yum install -y httpd
systemctl start httpd
systemctl enable httpd
echo "Hello World from $(hostname -I)" > /var/www/html/index.html
```

9. **인스턴스 시작**:
    - "Launch Instance" 클릭 → "View All Instances"에서 상태 확인.

---

#### **2. 웹 서버 확인**

1. **퍼블릭 IP 주소로 웹 서버 확인**:
    - **퍼블릭 IPv4 주소** 복사 → `http://<퍼블릭 IP>` 접속.
    - 페이지에 "Hello World from [프라이빗 IP]" 표시.
2. **주의**:
    - 반드시 **http://**로 접속.
    - 처음 실행 시 약간의 대기 시간 필요.

---

#### **3. EC2 인스턴스 관리**

1. **멈추기 (Stop)**:
    - **Instance state → Stop instance** 선택.
    - 퍼블릭 IP는 삭제되지만, EBS 스토리지는 유지.
    - 비용 청구 중지.
2. **다시 시작 (Start)**:
    - **Instance state → Start instance** 선택.
    - 새 퍼블릭 IP 할당 (이전과 다를 수 있음).
3. **제거 (Terminate)**:
    - **Instance state → Terminate instance**.
    - 인스턴스와 연결된 스토리지 삭제.

---

#### **4. 실습에서의 주요 포인트**

1. **퍼블릭 IP의 변화**:
    - 인스턴스가 멈췄다가 시작되면 퍼블릭 IP가 변경됨.
    - 프라이빗 IP는 변경되지 않음.
2. **프리 티어 활용**:
    - t2.micro로 한 달 750시간 무료 이용 가능.
3. **웹 서버 상태**:
    - 사용자 데이터 스크립트로 초기화된 상태로 유지.

---

## 4. EC2 인스턴스 유형 기본 사항
---
#### **1. 인스턴스 이름 규칙**

AWS 인스턴스 이름은 특정 의미를 내포합니다.

- **예시:** `m5.2xlarge`
    - **`m` (클래스):** 범용 인스턴스.
    - **`5` (세대):** 5세대 하드웨어.
    - **`2xlarge` (크기):** 2배 크기의 대형 인스턴스. 크기에 따라 메모리와 CPU가 증가.

---

#### **2. 주요 인스턴스 유형**

1. **범용 (General Purpose)**
    
    - **특징:** 컴퓨팅, 메모리, 네트워킹의 균형.
    - **사용 사례:** 웹 서버, 코드 저장소, 소규모 데이터베이스.
    - **예시:** `t2.micro`, `m5.large`.
    - **강의 사용:** **`t2.micro`** (프리 티어 제공).
2. **컴퓨팅 최적화 (Compute Optimized)**
    
    - **특징:** 높은 컴퓨팅 성능 제공.
    - **사용 사례:** HPC(고성능 컴퓨팅), 머신 러닝, 게임 서버.
    - **예시:** `c5.large`, `c6g.xlarge`.
3. **메모리 최적화 (Memory Optimized)**
    
    - **특징:** RAM(메모리) 집중적 작업에 적합.
    - **사용 사례:** 대규모 데이터베이스, 실시간 처리.
    - **예시:** `r5.large`, `x1e.xlarge`.
4. **스토리지 최적화 (Storage Optimized)**
    
    - **특징:** 대규모 로컬 데이터 처리에 최적화.
    - **사용 사례:** 데이터 웨어하우징, 분산 파일 시스템.
    - **예시:** `i3.large`, `h1.4xlarge`.

---

#### **3. 인스턴스 비교 예시**

|**인스턴스 이름**|**vCPU**|**메모리 (GB)**|**네트워크 성능**|**특징**|
|---|---|---|---|---|
|`t2.micro`|1|1|낮음~중간|프리 티어 제공.|
|`r5.16xlarge`|64|512|높음|메모리 최적화.|
|`c5d.4xlarge`|16|32|최대 10Gbps|컴퓨팅 최적화.|

---

#### **4. 인스턴스 유형과 요금 비교 사이트**

- **사이트:** [instances.vantage.sh](https://instances.vantage.sh/)
    - AWS의 모든 EC2 인스턴스 정보를 검색 및 비교 가능.
    - 요금, 메모리, vCPU, 네트워크 성능 등의 상세 정보 제공.
    - AWS 사용자에게 유용한 도구.

---

#### **5. AWS 프리 티어와 t2.micro**

- **프리 티어 제공 인스턴스:** `t2.micro`.
- **제공 시간:** 한 달에 최대 **750시간**.
- **특징:** 소규모 애플리케이션 및 실습에 적합.

---


## 5. 보안 그룹 및 클래식 포트 개요
---
