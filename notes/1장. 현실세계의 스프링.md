# 1. 현실세계의 스프링
---
스프링 프레임워크는 자바 생태계 일부인 애플리케이션 프레임워크다.
**애플리케이션 프레임워크**는 애플리케이션을 개발하는 기본 구조를 제공하는 공통 소프트웨어 기능의 집합이다.


## 1.1 마이크로서비스 아키텍처로 진화
---
프레임워크라는 아이디어는 새로운 것이 아니라 소프트웨어 개발 역사를 통해 자연스럽게 발생했다.
구현된 애플리케이션이 많지 않은 초기에 각 애플리케이션은들은 고유한 코드를 가지고 있었고 새로운 애플리케이션은 매번 원점에서부터 개발했다.
소프트웨어 개발 영역이 확장되고 프로그래머들은 많은 애플리케이션들의 **요구 사항이 유사**하다는 것을 쉽게 알 수 있었다. 

- 에러, 경고, 정보 메시지는 어떤 앱이든 발생한다.
- 대부분의 앱들은 트랜잭션을 이용하여 데이터 변경을 처리한다.
- 대부분의 앱들은 비슷한 취약점에 동일한 보안 메커니즘을 사용한다
- 앱 대부분은 비슷한 방법으로 통신한다.
- 앱 대부분은 캐싱 또는 데이터 압축처럼 성능을 향상하는 메커니즘이 있다.

그리고 앱에서 구현된 **비즈니스 로직**의 코드양은 애플리케이션 엔진을 구성하는 코드보다 **훨씬 작다**는 것을 알게되었다. 마치 빙산과 같이 말이다

그렇기 때문에 개발자들은 공통 로직을 매번 새로 작성하는 것보다 재사용하는 방법을 생각했다.

- 코드를 재사용 함으로써 많은 시간과 비용을 절약할 수 있다.
- 이미 많이 사용되는 기존 구현체는 여러 사람들의 테스트를 거쳤기 때문에 버그의 가능성이 낮다
- 많은 사람들이 공통으로 사용하는 로직은 커뮤니티의 도움을 받을 수 있다.

## 1.2 스프링 생태계
---
스프링은 여러 프레임워크의 생태계다. 스프링의 주요 기능은 다음과 같다.

1. **스프링 코어(Spring Core)**: 기본기능을 포함하는 스프링의 기반 부분중 하나다. 중요한 기능은 **스프링 컨텍스트**이며 스프링이 앱의 인스턴스를 관리할 수 있게 하는 기능이다. 또한 **스프링 애스팩트(aspects)** 는 앱에서 정의한 메서드를 가로채고 조작할 수 있다. 그리고 **스프링 표현언어 (Spring Expression Language, SpEL)** 은 특정 언어를 사용하여 스프링 구성 내용을 작성할 수 있다.
2. **스프링 모델-뷰-컨트롤러(MVC)**: HTTP 요청을 처리하는 웹 앱을 개발할 수 있게 도와주는 스프링의 일부분이다.
3. **스프링 데이터 액세스(Spring Data Access)**: 데이터베이스에 연결하여 앱 영속성 계층을 구현하는 데 사용할 수 있는 도구를 제공한다.
4. **스프링 테스팅**: 앱 테스트를 작성하는데 필요한 도구를 가지고 있다.

스프링 프레임워크를 태양계로 비유하면 스프링 코어는 항성, 나머지 기능들은 행성이다.

### 1.2.1 스프링 코어의 이해: 스프링 기초
---
스프링은 **제어 역전(Inversion of Control, IoC)** 원칙을 기반으로 작동한다.
이 원칙으로 인해 앱이 실행을 제어하는 대신 스프링 프레임워크에 제어 권한을 넘기고, 구성(configuration)을 이용하여 프레임워크에 코드를 관리하는 방법을 지시한다.

IoC에서 '역전'은 앱이 자체 코드로 실행을 제어하거나 의존성을 사용하지 못하는 대신 프레임워크(의존성)가 앱과 앱의 코드를 제어한다는 의미다.

> 여기서 제어라는 용어는 '인스턴스 생성' 또는 '메서드 호출' 같은 작업을 나타낸다. 프레임워크는 앱에서 정의한 클래스의 객체를 생성할 수 있다. 사용자가 작성한 구성에 따라 Spring은 메소드를 가로채서 다양한 기능으로 보강한다. 예를 들어, Spring은 특정 메소드를 가로채서 메소드 실행 중에 나타날 수 있는 오류를 기록할 수 있다.

IoC 컨테이너는 애플리케이션의 스프링 구성 요소와 애플리케이션의 구성 요소를 프레임 워크에 결합한다. 종종 스프링 컨텍스트라고 하는 IoC 컨테이너를 사용하여 특정 객체를 스프링에 전달해서 프레임워크가 구성한 방식으로 객체를 사용할 수 있게 한다.

스프링은 IoC 컨테이너에 추가된 인스턴스를 제어할 수 있으며, 가능한 작업 중 하나는 이 인스턴스의 동작인 메서드를 가로채는 것이다. 이 기능을 **메서드 애스펙팅(aspecting the method)** 이라고 하며, 스프링 AOP는 프레임워크가 앱과 상호 작용하는 일반적인 방법 중 하나다. 이 특성은 스프링 AOP를 필수 요소 중 하나로 만들기도 한다. 스프링 코어에는 자원 관리, 국제화(i18n), 형 변환, 스프링 표현 언어(SpEL)도 있다.

### 1.2.2 스프링 데이터 액세스 기능을 사용한 앱 영속성 구현
---

