
---
현재 다음과 같은 코드는 [[DIP (의존관계 역전 원칙)]] 원칙을 위반하고 있다. [[추상화]] (인터페이스)에만 의존하고 있는 것이 아니라, 구현체에도 의존하고 있기 때문이다.
```java
private DiscountPolicy discountPolicy = new RateDiscountPolicy;
```

따라서 [[OCP (개방-폐쇄 원칙)]] 도 위반하고 있다. 어떻게하면 DIP, OCP를 지키면서 개발할 수 있을까?

## 추상화만 의존
---
이 코드처럼 구현체를 지우고 추상화에만 의존하면 DIP 원칙을 지킬 수 있다.
하지만 이대로 코드를 실행하면 NullPointException이 터지게 된다.
```java
private DiscountPolicy discountPolicy;
```

이를 해결하려면 [[관심사의 분리]]를 적용해 **외부에서 구현체를 생성해서 주입을 해줘야 한다**

## 관심사의 분리
---
[[관ㅅ
# AppConfig의 등장
---
- 애플리케이션의 전체 동작 방식을 구성(config)하기 위해, "**구현 객체를 생성**"하고, "**연결**"하는 책임을 가지는 별도의 설정 클래스를 만들자.
## 관련자료
---
- [[스프링 핵심 원리 - 기본편]]
	
