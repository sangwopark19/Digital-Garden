## μ •λ¦¬
---

κ°€μ¥λ¨Όμ € UserDetailsServiceλΌλ” μΈν„°νμ΄μ¤κ°€ μλ‹¤ μ΄ μΈν„°νμ΄μ¤λ” loadUserByUsername(String username) λ©”μ„λ“ ν•κ°λ§ κ°€μ§€κ³  μκ³ 
μ΄λ¥Ό ν™•μ¥ν• UserDetailsManagerλΌλ” μΈν„°νμ΄μ¤κ°€ μλ‹¤ μ΄ μΈν„°νμ΄μ¤λ” createUser(UserDetails user), updateUser(UserDetails user), deleteUser(String username), changePassword(String oldPwd, String newPwd), userExists(String username) λ©”μ„λ“κ°€μλ‹¤.

μ΄ λ‘μ„ λ‚λ  λ†“μ€ μ΄μ λ” μ–΄λ–¤ ν”„λ΅λ•μ…μ—μ„  μ‚¬μ©μμ μ •λ³΄λ¥Ό λ³€κ²½ν•μ§€ λ»ν•κ² ν•κ³  λ΅λ“λ§ ν•  μ μμ–΄μ•Ό ν•μ§€λ§ λ μ–΄λ–¤ ν”„λ΅λ•μ…μ—μ„  μ‚¬μ©μμ μ •λ³΄λ¥Ό μƒμ„±, λ³€κ²½, μ‚­μ ν•  μ μμ–΄μ–΄μ•Ό ν•κΈ° λ•λ¬Έμ— λ‘μ„ λ‚λ  λ†“μ•λ‹¤.

κ·Έλ¦¬κ³  UserDetailsManagerλ¥Ό μ¤ν”„λ§ κ°λ°μλ“¤μ΄ λ―Έλ¦¬ κµ¬ν„ν•΄λ†“μ€ ν΄λμ¤λ“¤μ΄ μλ”λ° InMemoryUserDetalsManager, JdbcUserDetalsManager, LdapUserDetalsManagerκ°€ μλ‹¤

λν• μ΄ λ¨λ“  κΈ°λ¥λ“¤μ—μ„  UserDetailsλΌλ” μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ”λ° μ΄λ” μµμΆ… μ‚¬μ©μλ¥Ό λ‚νƒ€λ‚΄λ” μΈν„°νμ΄μ¤λ΅ μ‚¬μ©μμ΄λ¦„, μκ²© μ¦λ…, κ¶ν•λ“±μ„ ν¬ν•¨ν•λ‹¤
μ΄λ” μ΄λ¦„ μμ²΄λ΅ μ„¤λ…μ μ΄λ©° createUser(), updateUser()λ“±μ λ©”μ„λ“ λ“¤μ΄ μλ‹¤.
μ¤ν”„λ§μ—μ„  μ΄λ¥Ό λ‹¨μν• μΈν„°νμ΄μ¤λ΅ λ†”λ‘μ§€μ•κ³  Userμ™€ κ°™μ€ κµ¬ν„κ°μ²΄λ¥Ό λ§λ“¤μ–΄μ„ μ‰½κ²μ‚¬μ©ν•  μ μκ² λ§λ“¤μ—λ‹¤.
## μμ •λ³Έ
---
### Spring Securityμ `UserDetailsService`μ™€ `UserDetailsManager`

1. **`UserDetailsService`**
    
    - Spring Securityμ—μ„ μ κ³µν•λ” ν•µμ‹¬ μΈν„°νμ΄μ¤λ΅, **μ‚¬μ©μ μ •λ³΄λ¥Ό λ΅λ“**ν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤.
    - **λ©”μ„λ“:**
        - `loadUserByUsername(String username)`
            - μ‚¬μ©μ μ΄λ¦„(username)μ„ κΈ°λ°μΌλ΅ μ‚¬μ©μμ μ •λ³΄λ¥Ό λ΅λ“ν•©λ‹λ‹¤.
2. **`UserDetailsManager`**
    
    - `UserDetailsService`λ¥Ό ν™•μ¥ν• μΈν„°νμ΄μ¤λ΅, **μ‚¬μ©μ μ •λ³΄μ κ΄€λ¦¬** κΈ°λ¥μ΄ μ¶”κ°€λμ—μµλ‹λ‹¤.
    - **μ¶”κ°€ λ©”μ„λ“:**
        - `createUser(UserDetails user)`
            - μƒλ΅μ΄ μ‚¬μ©μλ¥Ό μƒμ„±ν•©λ‹λ‹¤.
        - `updateUser(UserDetails user)`
            - μ‚¬μ©μμ μ •λ³΄λ¥Ό μ—…λ°μ΄νΈν•©λ‹λ‹¤.
        - `deleteUser(String username)`
            - μ‚¬μ©μλ¥Ό μ‚­μ ν•©λ‹λ‹¤.
        - `changePassword(String oldPassword, String newPassword)`
            - μ‚¬μ©μμ λΉ„λ°€λ²νΈλ¥Ό λ³€κ²½ν•©λ‹λ‹¤.
        - `userExists(String username)`
            - μ‚¬μ©μμ μ΅΄μ¬ μ—¬λ¶€λ¥Ό ν™•μΈν•©λ‹λ‹¤.
3. **μ΄ λ‘μ„ λ‚λ μ΄μ **
    
    - **`UserDetailsService`**λ” **μ½κΈ° μ „μ©** μ‘μ—…μ΄ ν•„μ”ν• κ²½μ°μ— μ‚¬μ©λ©λ‹λ‹¤.
        - μ: μ‚¬μ©μ μΈμ¦λ§ ν•„μ”ν• μ‹μ¤ν….
    - **`UserDetailsManager`**λ” **μ½κΈ°μ™€ μ“°κΈ° μ‘μ—…**μ΄ λ¨λ‘ ν•„μ”ν• κ²½μ°μ— μ‚¬μ©λ©λ‹λ‹¤.
        - μ: μ‚¬μ©μ κ΄€λ¦¬ κΈ°λ¥μ΄ ν•„μ”ν• μ‹μ¤ν….

---

### μ¤ν”„λ§μ—μ„ μ κ³µν•λ” `UserDetailsManager` κµ¬ν„μ²΄

Spring Securityλ” `UserDetailsManager` μΈν„°νμ΄μ¤μ λ‡ κ°€μ§€ κµ¬ν„μ²΄λ¥Ό κΈ°λ³ΈμΌλ΅ μ κ³µν•©λ‹λ‹¤. μ΄λ¥Ό μ‚¬μ©ν•μ—¬ λ‹¤μ–‘ν• λ°μ΄ν„° μ €μ¥μ†λ¥Ό μ‰½κ² λ‹¤λ£° μ μμµλ‹λ‹¤.

- **`InMemoryUserDetailsManager`**
    - λ©”λ¨λ¦¬μ— μ‚¬μ©μ μ •λ³΄λ¥Ό μ €μ¥ν•©λ‹λ‹¤.
    - μ£Όλ΅ ν…μ¤νΈλ‚ κ°„λ‹¨ν• μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ‚¬μ©λ©λ‹λ‹¤.
- **`JdbcUserDetailsManager`**
    - JDBCλ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ² μ΄μ¤μ—μ„ μ‚¬μ©μ μ •λ³΄λ¥Ό κ΄€λ¦¬ν•©λ‹λ‹¤.
- **`LdapUserDetailsManager`**
    - LDAPμ„ ν†µν•΄ μ‚¬μ©μ μ •λ³΄λ¥Ό κ΄€λ¦¬ν•©λ‹λ‹¤.

---

### `UserDetails` μΈν„°νμ΄μ¤

- μµμΆ… μ‚¬μ©μλ¥Ό λ‚νƒ€λ‚΄λ” μΈν„°νμ΄μ¤λ΅, λ‹¤μκ³Ό κ°™μ€ μ •λ³΄λ¥Ό μ κ³µν•©λ‹λ‹¤.
    - μ‚¬μ©μ μ΄λ¦„ (username)
    - μκ²© μ¦λ… (credentials, λ³΄ν†µ λΉ„λ°€λ²νΈ)
    - κ¶ν• (authorities)
    - κ³„μ •μ ν™μ„±ν™” μƒνƒ λ“±
- μ΄λ¦„ κ·Έλ€λ΅ **μ„¤λ…μ μΈ μΈν„°νμ΄μ¤**μ΄λ©°, Spring Securityμ μ‚¬μ©μ λ¨λΈμ ν•µμ‹¬ μ—­ν• μ„ ν•©λ‹λ‹¤.

### κµ¬ν„μ²΄

- Spring Securityλ” `UserDetails`λ¥Ό κµ¬ν„ν•λ” κΈ°λ³Έ ν΄λμ¤μΈ **`User`**λ¥Ό μ κ³µν•©λ‹λ‹¤.
    - μ΄λ¥Ό ν†µν•΄ `UserDetails` μΈν„°νμ΄μ¤λ¥Ό μ‰½κ² μ‚¬μ©ν•  μ μμµλ‹λ‹¤.
    - `createUser()`λ‚ `updateUser()` λ“±μ λ©”μ„λ“μ—μ„ μ΄ κµ¬ν„μ²΄λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μΌλ°μ μ…λ‹λ‹¤.

---

### μ¶”κ°€ κ°μ„  μ μ•

- `UserDetails`μ μ—­ν• κ³Ό λ©”μ„λ“λ¥Ό κµ¬μ²΄μ μΌλ΅ μ„¤λ…ν•λ©΄ λ” μΆ‹μµλ‹λ‹¤. μλ¥Ό λ“¤μ–΄, κ³„μ • ν™μ„±ν™” μƒνƒλ¥Ό λ‹¤λ£¨λ” λ©”μ„λ“(`isAccountNonExpired`, `isAccountNonLocked` λ“±)λ„ μ¤‘μ”ν•©λ‹λ‹¤.
- κ° κµ¬ν„μ²΄(`InMemoryUserDetailsManager`, `JdbcUserDetailsManager`, `LdapUserDetailsManager`)μ μ‚¬μ© μ‚¬λ΅€λ¥Ό μ΅°κΈ λ” κµ¬μ²΄μ μΌλ΅ κΈ°μ ν•λ©΄ ν™μ© λ°©μ•μ„ μ΄ν•΄ν•κΈ° μ‰½μµλ‹λ‹¤.

---

μ„μ™€ κ°™μ΄ μ •λ¦¬ν•λ©΄ λ” μ½κΈ° μ‰½κ³  λ…ν™•ν•κ² λ‚΄μ©μ„ μ „λ‹¬ν•  μ μμ„ κ²ƒ κ°™μµλ‹λ‹¤. π


---
μ§€κΈμ€ UserDetailsManager λλ”

UserDetailsServiceλΌλ” μ»΄ν¬λ„νΈμ— μ§‘μ¤‘ν•΄ λ³΄κ² μµλ‹λ‹¤

μ΄κ²ƒμ€ UserDetailsManagerμ™€ UserDetailsService μΈν„°νμ΄μ¤ λ°

κ·Έ κµ¬ν„ ν΄λμ¤μ— λ€ν• νΌλ€μ„ ν•΄μ†ν•κΈ° μ„ν•΄

μ¤€λΉ„ν• μ¬λΌμ΄λ“μ…λ‹λ‹¤

κ·Έλμ„ λ‹¤μ λ‡ λ²μ κ°•μμ—μ„λ”

Spring Security ν”„λ μ„μ›ν¬ λ‚΄μ—μ„

μ‚¬μ©μ κ΄€λ¦¬μ™€ κ΄€λ ¨λ μ¤‘μ”ν• ν΄λμ¤μ™€

μΈν„°νμ΄μ¤μ— λ€ν•΄ λ…Όμν•  κ²ƒμ…λ‹λ‹¤

κ°€μ¥ λ¨Όμ €, UserDetailsServiceλΌλ” μΈν„°νμ΄μ¤κ°€ μμµλ‹λ‹¤

μ΄ μΈν„°νμ΄μ¤ μ•μ—λ”

μ‚¬μ©μ μ„Έλ¶€ μ •λ³΄λ¥Ό μ–΄λ–¤ μ €μ¥ μ‹μ¤ν…μ—μ„λ“  λ΅λ“ν•λ”

λ‹¨μΌ μ¶”μƒ λ©”μ†λ“κ°€ μμµλ‹λ‹¤

κ·Έκ²ƒμ€ λ©”λ¨λ¦¬ λ‚΄ μ €μ¥ μ‹μ¤ν…μΌ μλ„ μκ³ 

λ°μ΄ν„°λ² μ΄μ¤μΌ μλ„ μμµλ‹λ‹¤

μ €μ¥ μ‹μ¤ν…μ΄ λ¬΄μ—‡μ΄λ“  μƒκ΄€μ—†μ΄

μ΄ λ©”μ†λ“μ λ©μ μ€ μ£Όμ–΄μ§„ μ‚¬μ©μ μ΄λ¦„μ„ κΈ°λ°μΌλ΅

μ €μ¥ μ‹μ¤ν…μ—μ„ μ‚¬μ©μ μ„Έλ¶€ μ •λ³΄λ¥Ό λ΅λ“ν•λ” κ²ƒμ…λ‹λ‹¤

μ΄μ  μ΄ μΈν„°νμ΄μ¤λ”

UserDetailsManagerλΌλ” λ λ‹¤λ¥Έ μΈν„°νμ΄μ¤μ— μν•΄ ν™•μ¥λ©λ‹λ‹¤

κ·Έλμ„ μ΄ UserDetailsManagerμ—λ” λ§μ€ λ‹¤λ¥Έ μ¶”μƒ λ©”μ†λ“κ°€ μμµλ‹λ‹¤

μ²« λ²μ§Έλ” createUser()λ΅

μ°λ¦¬κ°€ μ…λ ¥μΌλ΅ μ κ³µν•λ ¤λ” κ°μ²΄λ¥Ό κΈ°λ°μΌλ΅

μƒλ΅μ΄ μ‚¬μ©μλ¥Ό μƒμ„±ν•  κ²ƒμ…λ‹λ‹¤

μ΄λ¬ν• λ©”μ†λ“μ— μ κ³µν•΄μ•Ό ν•λ” κ°μ²΄μ μ ν•μ€

UserDetailsμ…λ‹λ‹¤

κΈ°λ³Έμ μΌλ΅, μƒλ΅μ΄ μ‚¬μ©μλ¥Ό μƒμ„±ν•κ±°λ‚

μƒλ΅μ΄ κ³„μ •μ„ λ“±λ΅ν•λ ¤κ³  ν•  λ•λ§λ‹¤

μ΄κ²ƒμ΄ Spring Security ν”„λ μ„μ›ν¬κ°€

μ €μ¥ μ‹μ¤ν… λ‚΄μ—μ„ UserDetailsλ¥Ό μƒμ„±ν•λ” λ° μ‚¬μ©ν•  λ©”μ†λ“μ…λ‹λ‹¤

λ‹¤μμΌλ΅, μµμΆ… μ‚¬μ©μκ°€ μμ‹ μ μ„Έλ¶€ μ •λ³΄λ¥Ό μ—…λ°μ΄νΈν•λ ¤λ” μ‹λ‚λ¦¬μ¤μ…λ‹λ‹¤

μ΄λ¬ν• μ‹λ‚λ¦¬μ¤μ—μ„λ” updateUser() λ©”μ†λ“κ°€ λ“±μ¥ν•κ³ 

κ·Έ λ‹¤μμΌλ΅ deleteUser() λ©”μ†λ“κ°€ μ‚¬μ©λ©λ‹λ‹¤

μ΄ λ©”μ†λ“λ” μ°λ¦¬κ°€ μ…λ ¥μΌλ΅ μ κ³µν•λ ¤λ” μ‚¬μ©μ μ΄λ¦„μ„ κΈ°λ°μΌλ΅

μ €μ¥ μ‹μ¤ν…μ—μ„ μ‚¬μ©μ μ„Έλ¶€ μ •λ³΄λ¥Ό μ‚­μ ν•©λ‹λ‹¤

κ·Έλ¬λ‚ μµμΆ… μ‚¬μ©μκ°€ λ‹¨μν

λΉ„λ°€λ²νΈλ¥Ό λ³€κ²½ν•λ ¤λ” μ‹λ‚λ¦¬μ¤μ—μ„ κ·Έλ ‡μµλ‹λ‹¤

μ΄λ¬ν• μ‹λ‚λ¦¬μ¤μ—μ„λ” updateUser()λ¥Ό μ‚¬μ©ν•λ” λ€μ‹ 

changePassword() λ©”μ†λ“λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤

μ΄ λ©”μ†λ“λ” κΈ°μ΅΄ λΉ„λ°€λ²νΈμ™€ μƒλ΅μ΄ λΉ„λ°€λ²νΈλ¥Ό μ…λ ¥λ°›μµλ‹λ‹¤

λ§μ§€λ§‰μΌλ΅, μ΄ μΈν„°νμ΄μ¤ λ‚΄μ—λ”

userExists()λΌλ” ν—¬νΌ λ©”μ†λ“λ„ μμµλ‹λ‹¤

μλ¥Ό λ“¤μ–΄, λ„κµ°κ°€κ°€ μ£Όμ–΄μ§„ μ‚¬μ©μ μ΄λ¦„μ„ κΈ°λ°μΌλ΅

μ €μ¥ μ‹μ¤ν… λ‚΄μ— μ‚¬μ©μκ°€ μλ”μ§€ μ΄ν•΄ν•κ³ μ ν•  λ•

μ‹¤μ λ΅ μΈμ¦μ„ μν–‰ν•κΈ° μ „μ—

μ΄ λ©”μ†λ“λ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤

μ—¬κΈ°μ„, μ™ UserDetailsServiceμ™€

UserDetailsManagerκ°€ λ¶„λ¦¬λμ–΄ μλ”μ§€μ— λ€ν•

μ§λ¬Έμ΄ μμ„ μ μμµλ‹λ‹¤

Spring Security ν€μ΄

μ΄ λ©”μ†λ“λ“¤μ„ λ‘ κ°μ λ‹¤λ¥Έ μΈν„°νμ΄μ¤λ΅ λ¶„λ¦¬ν• λ°μ—λ” λ§¤μ° μΆ‹μ€ μ΄μ κ°€ μμµλ‹λ‹¤

μ°λ¦¬κ°€ λ§¨ μ²μ λ³΄λ” μΈν„°νμ΄μ¤λ” UserDetailsServiceμ…λ‹λ‹¤

μ΄ μΈν„°νμ΄μ¤κ°€ μ‚¬μ©μ μ΄λ¦„μΌλ΅ μ‚¬μ©μ μ„Έλ¶€ μ •λ³΄λ¥Ό λ΅λ“ν•λ” λ°λ§

λ„μ›€μ΄ λλ” λ©”μ†λ“λ¥Ό κ°€μ§€κ³  μλ” μ΄μ λ”

λ•λ•λ΅ μ΅°μ§μ—μ„λ” λ‹¨μν ν•­μƒ μ‚¬μ©μλ¥Ό

μΈμ¦ν•κ³  μ‹¶μ–΄ν•κΈ° λ•λ¬Έμ…λ‹λ‹¤

κ·Έλ“¤μ€ μµμΆ… μ‚¬μ©μκ°€ μ›Ήμ‚¬μ΄νΈλ‚

APIλ¥Ό μ‚¬μ©ν•μ—¬ μ§μ ‘ λ“±λ΅ν•λ” μ‹λ‚λ¦¬μ¤λ¥Ό

μ λ€ κ°€μ§€μ§€ μ•μµλ‹λ‹¤

λ”°λΌμ„ μ‚¬μ©μλ¥Ό μƒμ„±ν•κ±°λ‚ μ‚­μ ν•κ±°λ‚

μ—…λ°μ΄νΈν•λ” μ‹λ‚λ¦¬μ¤κ°€ μ—†λ‹¤λ©΄

UserDetailsService κµ¬ν„λ§μΌλ΅λ„ μ¶©λ¶„ν•©λ‹λ‹¤

μ΄ μΈν„°νμ΄μ¤μ κµ¬ν„ ν΄λμ¤λ”

ν•­μƒ μ‚¬μ©μ μ„Έλ¶€ μ •λ³΄λ¥Ό μ½μ„ κ²ƒμ…λ‹λ‹¤

κ·Έλ ‡λ‹¤λ©΄ μ–Έμ  μ‚¬μ©μ μ„Έλ¶€ μ •λ³΄λ¥Ό μ½μ„κΉμ”?

λ΅κ·ΈμΈ μ‹λ„ μ¤‘μ…λ‹λ‹¤

μΌλ¶€ μ΅°μ§μ—μ„λ”

μµμΆ… μ‚¬μ©μμ—κ² λ…μ„ μ κ³µν•κ³ 

λ΅κ·ΈμΈ μ‹ ν•­μƒ ν•΄λ‹Ή μκ²© μ¦λ…μ„ μ‚¬μ©ν•λ„λ΅

μ”κµ¬ν•  κ²ƒμ…λ‹λ‹¤

κ·Έλ“¤μ€ μƒλ΅μ΄ κ³„μ •μ„ λ‹¤μ‹ μ‹μ‘ν•κ±°λ‚ μ„Έλ¶€ μ •λ³΄λ¥Ό μ—…λ°μ΄νΈν•κ±°λ‚

λΉ„λ°€λ²νΈλ¥Ό λ³€κ²½ν•  μ μλ” μ μ—°μ„±μ„ μ κ³µν•μ§€ μ•μ„ κ²ƒμ…λ‹λ‹¤

λ”°λΌμ„ μ΄λ¬ν• μ΅°μ§μ κ²½μ°

μ΄ μΈν„°νμ΄μ¤μ— λ€ν• κµ¬ν„ ν΄λμ¤ ν•λ‚λ§ μμ–΄λ„ μ¶©λ¶„ν•©λ‹λ‹¤

κ·Έλ¬λ‚ μ΅°μ§μ΄ μ‚¬μ©μ μ„Έλ¶€ μ •λ³΄μ μ „μ²΄ κΈ°λ¥μ„ μ›ν•  κ²½μ°

μλ¥Ό λ“¤μ–΄ μƒμ„±, μ—…λ°μ΄νΈ, μ‚­μ , μ½κΈ°, λΉ„λ°€λ²νΈ λ³€κ²½μ΄λ‚

μ‚¬μ©μκ°€ μ΅΄μ¬ν•λ”μ§€ ν™•μΈν•λ” κΈ°λ¥μ„ μ›ν•  κ²½μ°

μ΄λ¬ν• μ‹λ‚λ¦¬μ¤μ—μ„λ” UserDetailsManagerμ κµ¬ν„μ„

κµ¬μ¶•ν•  μ μμµλ‹λ‹¤

κΈ°λ³Έμ μΌλ΅ μ΄ UserDetailsManagerλ”

λ¨λ“  CRUD μ‘μ—…μ„ μ§€μ›ν•©λ‹λ‹¤

Cλ” μƒμ„± Create, Rμ€ Readλ¥Ό μλ―Έν•©λ‹λ‹¤

μ΄ μ½κΈ° κΈ°λ¥μ€ μƒμ„ μΈν„°νμ΄μ¤μ—μ„ κ°€μ Έμ¤λ©°

Uλ” Update

Dλ” Deleteλ¥Ό μλ―Έν•©λ‹λ‹¤

μ΄λ¥Ό ν†µν•΄ μ΅°μ§μ΄

μµμΆ… μ‚¬μ©μμ—κ²

λ¨λ“  CRUD μ‘μ—… μµμ…μ„ μ κ³µν•λ ¤λ” κ²½μ°

UserDetailsManager μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ‹¤λ” μ μ΄ λ§¤μ° λ…ν™•ν•΄μ§‘λ‹λ‹¤

κ·Έλ ‡μ§€ μ•κ³  λ‹¨μν μµμΆ… μ‚¬μ©μλ¥Ό μΈμ¦ν•λ ¤λ” κ²½μ°

UserDetailsService μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•΄μ•Ό ν•©λ‹λ‹¤

λ”°λΌμ„ μ΄κ²ƒλ“¤μ€ Spring Securityμ—μ„ μ κ³µν•λ”

μΈν„°νμ΄μ¤ λλ” κ³„μ•½μΌλ΅

μ €μ¥ μ‹μ¤ν… λ‚΄μ—μ„ μ‚¬μ©μ μ„Έλ¶€ μ •λ³΄λ¥Ό λ‹¤λ£° λ• λ”°λΌμ•Ό ν•©λ‹λ‹¤

κ·Έλ¬λ‚ Spring Securityμ μ¥μ μ€

ν€μ΄ λ‹¨μν κ³„μ•½μ΄λ‚ μΈν„°νμ΄μ¤λ§ μ κ³µν•λ” λ°

κ·ΈμΉμ§€ μ•μ•λ‹¤λ” μ μ…λ‹λ‹¤

λ€μ‹ , λ‡ κ°€μ§€ μƒν” κµ¬ν„ ν΄λμ¤λ„ μ κ³µν–μµλ‹λ‹¤

μλ¥Ό λ“¤μ–΄, InMemoryUserDetailsManagerλ”

μ΄ UserDetailsManagerμ κµ¬ν„ ν΄λμ¤μ…λ‹λ‹¤

μ΄μ „μ— μ• ν”λ¦¬μΌ€μ΄μ…μ λ©”λ¨λ¦¬ λ‚΄μ—μ„ μ‚¬μ©μλ¥Ό μƒμ„±ν•κ³ μ ν•  λ•

μ΄λ¬ν• κµ¬ν„ ν΄λμ¤λ¥Ό μ‚¬μ©ν•λ©΄ λλ‹¤λ” κ²ƒμ„ λ³΄μ•μµλ‹λ‹¤

μ°λ¦¬λ” μ΄μ „ κ°•μμ—μ„ μ΄ ν΄λμ¤λ¥Ό λ§μ΄ νƒκµ¬ν–λ”λ°

μ΄λ” Spring Securityλ¥Ό μ‹μ‘ν•λ” λ§μ€ μ΅°μ§μ—μ„

λ§¤μ° μΌλ°μ μΈ μ”κµ¬ μ‚¬ν•­μ΄κΈ° λ•λ¬Έμ…λ‹λ‹¤

Spring Security ν€μ΄ ν• μΌμ€

λΌμ΄λΈλ¬λ¦¬ λ‚΄λ¶€μ—μ„ UserDetailsManagerμ κµ¬ν„μΈ

InMemoryUserDetailsManagerλ¥Ό μ κ³µν• κ²ƒμ…λ‹λ‹¤

λ‹¤μμΌλ΅ μΌλ°μ μΈ μ”κµ¬ μ‚¬ν•­μ€

μ‚¬μ©μ μ •λ³΄λ¥Ό λ°μ΄ν„°λ² μ΄μ¤μ— μ €μ¥ν•λ” κ²ƒμ…λ‹λ‹¤

μ‚¬μ©μ μ •λ³΄κ°€ λ°μ΄ν„°λ² μ΄μ¤μ— μ €μ¥λλ” μ‹λ‚λ¦¬μ¤λ¥Ό μ²λ¦¬ν•κΈ° μ„ν•΄

Spring Securityμ—μ„ μ κ³µν•λ” κµ¬ν„ ν΄λμ¤ μ¤‘ ν•λ‚λ”

JdbcUserDetailsManagerμ…λ‹λ‹¤

Jdbcμ™€ InMemory μ™Έμ—λ„

μ‚¬μ©μ μ •λ³΄λ¥Ό μ €μ¥ν•λ” λ λ‹¤λ¥Έ μΌλ°μ μΈ μ ‘κ·Ό λ°©μ‹μ€ LDAPμ…λ‹λ‹¤

λ”°λΌμ„ LDAPλ” μ €μ¥ μ‹μ¤ν… λ‚΄μ—μ„

UserDetailsλ¥Ό μ €μ¥ν•λ” λ κ±°μ‹ μ¤νƒ€μΌ μ¤‘ ν•λ‚μ…λ‹λ‹¤

λ§μ€ νμ‚¬κ°€ μ΄ LDAP μ‹μ¤ν…μ„ μ‚¬μ©ν•μ§€λ” μ•μ§€λ§

μΌλ¶€ μ΅°μ§μ΄ μ΄ LDAP μ €μ¥ μ‹μ¤ν…μ„ μ‚¬μ©ν•κ³  μλ‹¤λ©΄

Spring Security ν€μ—μ„ μ κ³µν•λ” LdapUserDetailsManagerλ¥Ό ν™μ©ν•  μ μμµλ‹λ‹¤

μ–΄λ–¤ μ΄μ λ΅λ“  μ΄ μ„Έ κ°€μ§€ μµμ…μ΄ λ¨λ‘ λ„μ›€μ΄ λμ§€ μ•λ”λ‹¤λ©΄

μ‚¬μ©μ μ •μ UserDetailsManagerλ¥Ό κµ¬ν„ν•  μ μμΌλ©°

μ–Έμ λ“ μ§€ μ‚¬μ©μ μ •μ UserDetailsManagerλ¥Ό κµ¬μ¶•ν•  μ μμµλ‹λ‹¤

μ°λ¦¬λ” λ‹¤μ μ„Ήμ…μ—μ„

μ‚¬μ©μ μ •μ κµ¬ν„μ„ κµ¬μ¶•ν•λ” μµμ…μ„ νƒκµ¬ν•  κ²ƒμ…λ‹λ‹¤

μ§€κΈμ€ μ΄ μ„Έ κ°€μ§€ κ³„μΈµμ μ—­ν• μ— λ€ν•΄

λ…ν™•ν μ΄ν•΄ν•κ³  κ³„μ‹ λ‹¤κ³  κ°€μ •ν•κ² μµλ‹λ‹¤

μ²« λ²μ§Έ κ³„μΈµμ€ μΈν„°νμ΄μ¤μΈ UserDetailsServiceμ΄κ³ 

κ·Έ λ‹¤μμ€ λ λ‹¤λ¥Έ μΈν„°νμ΄μ¤μΈ UserDetailsManagerμ΄λ©°

κ·Έ λ‹¤μμ€ Spring Security ν€μ—μ„ μ κ³µν•λ” μ„Έ κ°€μ§€ λ‹¤λ¥Έ κµ¬ν„ ν΄λμ¤μ…λ‹λ‹¤

κ·Έλ¦¬κ³  λ§μ§€λ§‰μΌλ΅

UserDetails μΈν„°νμ΄μ¤λ¥Ό λ‚νƒ€λ‚΄λ” λ…Ήμƒ‰ ν™”μ‚΄ν‘λ¥Ό λ³΄μ…¨μ„ κ²ƒμ…λ‹λ‹¤

Spring Security ν€μ—μ„ μ κ³µν•λ” μ΄ λ¨λ“  κ³„μ•½μ μ¥μ μ€

μ΄λ“¤μ΄ λ¨λ‘ UserDetails μΈν„°νμ΄μ¤λ¥Ό ν™μ©ν•λ‹¤λ” μ μ…λ‹λ‹¤

Spring Security λ‚΄λ¶€μ—μ„

μ‚¬μ©μλ” UserDetailsλ΅ ν‘ν„λ©λ‹λ‹¤

λ”°λΌμ„ UserDetailsλ” μµμΆ… μ‚¬μ©μλ¥Ό λ‚νƒ€λ‚΄λ” μΈν„°νμ΄μ¤λ΅

μ‚¬μ©μ μ΄λ¦„, μκ²© μ¦λ…, κ¶ν• λ“±μ„ ν¬ν•¨ν•©λ‹λ‹¤

μ΄λ¬ν• λ¨λ“  μ„Έλ¶€ μ •λ³΄λ¥Ό μ €μ¥ν•κΈ° μ„ν•΄

Spring Security ν”„λ μ„μ›ν¬ λ‚΄μ—

UserDetailsλΌλ” κ³„μ•½μ΄ μμµλ‹λ‹¤

μ΄λ¦„ μμ²΄κ°€ μ„¤λ…μ μ΄λ©°

μµμΆ… μ‚¬μ©μμ μ„Έλ¶€ μ •λ³΄λ¥Ό λ³΄μ ν•  κ²ƒμ…λ‹λ‹¤

κ·Έλ¦¬κ³  μ΄κ²ƒμ€ μΈν„°νμ΄μ¤μ…λ‹λ‹¤

createUser(), updateUser()μ™€ κ°™μ€ λ¨λ“  λ©”μ†λ“λ¥Ό λ³΄μ‹¤ μ μμµλ‹λ‹¤

μ΄ λ©”μ†λ“λ“¤μ€ UserDetails νƒ€μ…μ κ°μ²΄λ¥Ό λ°›κ³  μμΌλ©°

μ΄μ™€ μ μ‚¬ν•κ² loadUserByUsername()μ λ°ν™ νƒ€μ…λ„

UserDetails μμ²΄μ…λ‹λ‹¤

μ΄ UserDetails μΈν„°νμ΄μ¤μ™€ κ΄€λ ¨ν•μ—¬

Spring Security ν€μ€ λ‹¨μν κ³„μ•½μ΄λ‚ μΈν„°νμ΄μ¤λ¥Ό μ •μν•λ” κ²ƒλ§μΌλ΅

λΌμ΄λΈλ¬λ¦¬ μ½”λ“λ¥Ό λ‚¨κ²¨λ‘μ§€ μ•μ•μµλ‹λ‹¤

λ€μ‹ , κ·Έλ“¤μ΄ ν• μΌμ€

μ΄ μΈν„°νμ΄μ¤μ μƒν” κµ¬ν„μ„ μ κ³µν• κ²ƒμ…λ‹λ‹¤

μ΄ μƒν” κµ¬ν„ ν΄λμ¤λ” userμ…λ‹λ‹¤

λ”°λΌμ„ Spring Security ν”„λ μ„μ›ν¬ λ‚΄μ—

UserDetails μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• user ν΄λμ¤κ°€ μμµλ‹λ‹¤

